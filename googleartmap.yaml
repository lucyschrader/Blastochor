---
- core:
  label: googleart
  reference_column: null
  primary_endpoint: object
  explode: hasRepresentation
  reduce: null
  extend:
    - 1:
      endpoint: place
      path: production.i.spatial.id
      for_label: null
  fields:
    - itemid:
      - literal:
        - pid
    - subitemid:
      - format_string:
        - "{}.{}"
        - pid, hasRepresentation.i.id
    - orderid:
      - hardcoded:
        - explode_ordinal+1
    - customtext:registrationid:
      - literal:
        - identifier
    - title:
      - literal:
        - title
    - description:
      - literal:
        - description
      - clean_html:
        - null
    - creator:
      - collate_list:
        - production.i.contributor.title
      - for_each:
        - format_string:
          - "{} ({})"
          - production.i.contributor.title, production.i.role
          - required
        - fallback:
          - literal:
            - production.i.contributor.title
    - location:placename:
      - literal:
        - production.i.spatial.prefLabel
    - location:lat:
      - literal:
        - production.i.spatial.id
      - lookup:
        - place
      - literal:
        - geoLocation.lat
    - location:long:
      - literal:
        - production.i.spatial.id
      - lookup:
        - place
      - literal:
        - geoLocation.lon
    - dateCreated:start:
      - literal:
        - production.i.createdDate
    - dateCreated:display:
      - literal:
        - production.i.verbatimCreatedDate
    - rights:
      - literal:
        - hasRepresentation.i.rights.title
    - format:
      - literal:
        - observedDimension.i.title
    - medium:
      - literal:
        - isMadeOfSummary
    - subject:
      - collate_list:
        - depicts.i.title, influencedBy.i.title
    - art=support:
      - collate_list:
        - isMadeOf
      - must_match:
        - canvas, paper, plaster, cardboard, ceramic, wood, clay
    - art=depictedLocation:
      - conditional:
        - depicts.i.title
        - depicts.i.type=Place
    - art=depictedPerson:
      - conditional:
        - depicts.i.title
        - depicts.i.type=Person
    - art=genre:
      - collate_list:
        - depicts.i.title
      - must_match:
        - landscape, portait, still life
    - customtext:specimenType:
      - literal:
        - specimenType
    - customtext:dateCollected:
      - literal:
        - evidenceFor.atEvent.eventDate
    - customtext:creator.collector:
      - collate_list:
        - evendienceFor.atEvent.recordedBy.i.title
    - customtext:locationCollected:
      - literal:
        - evidenceFor.atEvent.atLocation.title
    - customtext:dateIdentified:
      - literal:
        - identification.i.dateIdentified
    - customtext:creator.identifier:
      - literal:
        - identification.i.identifiedBy.title
    - customtext:qualifiedName:
      - literal:
        - identification.i.qualifiedName
    - customtext:commonName:
      - literal:
        - identification.i.toTaxon.vernacularName.i.title
    - provenance:
      - literal:
        - creditLine
    - priority:
      - set_priority:
        - null
    - filetype:
      - use_group_labels:
        - sequence
        - image
        - image
    - filespec:
      - format_string:
        - Te Papa {} {} {}
        - id, hasRepresentation.i.id, title
      - create_filename:
        - jpg
    - relation:url:
      - format_string:
        - https://collections.tepapa.govt.nz/object/{}
        - id
    - relation:text:
      - hardcoded:
        - Te Papa Collections Online