---
- label: default
  reference_column: null
  primary_endpoint: object
  explode: hasRepresentation
  reduce: null
  extend:
    - endpoint: agent
      path: production.i.contributor.id
      for_label: null
  fields:
    - irn:
      - literal:
          path: id
    - identifier:
      - literal:
          path: identifier
    - title:
      - literal:
          path: title
    - media_irn:
      - literal:
          path: hasRepresentation.i.id
    - rights_title:
      - literal:
         path: hasRepresentation.i.rights.title
    - description:
      - literal:
          path: description
    - cleanDescription:
      - clean_html:
          null
    - creator:
      - collate_list:
          path: production.i.contributor.id
      - for_each:
        - lookup:
            endpoint: agent
        - literal:
            path: title
        - concatenate:
            null
    - createdDate:
      - literal:
          path: production.i.createdDate
    - createdPlace:
      - literal:
          path: production.i.spatial.title
    - specimenType:
      - literal:
          path: specimenType
    - basisOfRecord:
      - literal:
          path: basisOfRecord
    - dateCollected:
      - literal:
          path: evidenceFor.atEvent.eventDate
    - collectedBy:
      - collate_list:
          path: evidenceFor.atEvent.recordedBy.i.title
    - country:
      - literal:
          path: evidenceFor.atEvent.atLocation.country
    - countryCode:
      - country_code:
          path: evidenceFor.atEvent.atLocation.country
    - dateIdentified:
      - literal:
          path: identification.i.dateIdentified
    - identifiedBy:
      - literal:
          path: identification.i.identifiedBy.title
    - qualifiedName:
      - literal:
          path: identification.i.qualifiedName
    - scientificName:
      - literal:
          path: identification.i.toTaxon.scientificName
    - family:
      - literal:
          path: identification.i.toTaxon.family
    - vernacularName:
      - literal:
          path: identification.i.toTaxon.vernacularName.i.title
    - typeStatus:
      - literal:
          path: identification.i.typeStatus
    - creditLine:
      - literal:
          path: creditLine
    - qualityScore:
      - literal:
          path: _meta.qualityScore
    - coUrl:
      - format_string:
          string: https://collections.tepapa.govt.nz/object/{}
          path: id
    - coUrlText:
      - hardcoded:
          value: Te Papa Collections Online